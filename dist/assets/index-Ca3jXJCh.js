(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
*/let C="home",E=[],k=null,c=null;const De=document.getElementById("homeView"),Ne=document.getElementById("createSetView"),Me=document.getElementById("editSetView"),Ve=document.getElementById("learnView"),Ae=document.getElementById("showCreateSetViewButton"),re=document.getElementById("cardSetListContainer"),de=document.getElementById("cardSetList"),ce=document.getElementById("noSetsMessage"),Fe=document.getElementById("createSetForm"),K=document.getElementById("newCardSetName"),Xe=document.getElementById("saveNewSetButton"),He=document.getElementById("backToHomeFromCreateButton"),Ke=document.getElementById("editSetViewTitle"),Oe=document.getElementById("editSetForm"),G=document.getElementById("editingCardSetName"),b=document.getElementById("editingCardTerm"),D=document.getElementById("editingCardDefinition"),te=document.getElementById("addCardToEditingSetButton"),R=document.getElementById("editingCardsListUl"),le=document.getElementById("noCardsInSetMessage"),Ue=document.getElementById("saveSetChangesButton"),Pe=document.getElementById("backToHomeFromEditButton"),Re=document.getElementById("learnViewTitle"),w=document.getElementById("flashcardsContainer"),z=document.getElementById("cardCounter"),X=document.getElementById("controlsContainer"),O=document.getElementById("swipeLeftButton"),A=document.getElementById("swipeRightButton"),ze=document.getElementById("backToHomeFromLearnButton");let f=[],L=0,N=0,Le=0,ue=0,r=null,J=!1;const Ye=50,Be="flashcardApp_cardSets_v2";function ie(){localStorage.setItem(Be,JSON.stringify(E))}function qe(){const e=localStorage.getItem(Be);e?E=JSON.parse(e):E=[]}function g(e){C=e,De.style.display=e==="home"?"flex":"none",Ne.style.display=e==="createSet"?"flex":"none",Me.style.display=e==="editSet"?"flex":"none",Ve.style.display=e==="learn"?"flex":"none",e==="home"?(ke(),c=null,k=null):e==="createSet"?(K.value="",K.focus()):e==="editSet"&&c?Ge():e==="learn"&&k&&(Re.textContent=`Lernen: ${k.name}`,be(k.flashcards))}function ke(){de.innerHTML="",E.length===0?(ce.style.display="block",re.classList.add("empty")):(ce.style.display="none",re.classList.remove("empty"),E.forEach(e=>{const t=document.createElement("li");t.classList.add("card-set-item");const n=document.createElement("span");n.textContent=`${e.name} (${e.flashcards.length} Karten)`,t.appendChild(n);const i=document.createElement("div");i.classList.add("card-set-actions");const s=document.createElement("button");s.textContent="Lernen",s.classList.add("button-primary"),s.addEventListener("click",u=>{u.stopPropagation(),k=e,g("learn")}),i.appendChild(s);const a=document.createElement("button");a.textContent="Bearbeiten",a.classList.add("button-secondary"),a.addEventListener("click",u=>{u.stopPropagation(),c=e,g("editSet")}),i.appendChild(a);const o=document.createElement("button");o.textContent="Löschen",o.classList.add("button-danger"),o.addEventListener("click",u=>{u.stopPropagation(),confirm(`Möchtest du das Set "${e.name}" wirklich löschen? Dies kann nicht rückgängig gemacht werden.`)&&(E=E.filter(m=>m.id!==e.id),ie(),ke())}),i.appendChild(o),t.appendChild(i),t.addEventListener("click",()=>{k=e,g("learn")}),de.appendChild(t)}))}Fe.addEventListener("submit",e=>{e.preventDefault();const t=K.value.trim();if(t){const n={id:`set-${Date.now()}-${Math.random().toString(36).substring(2,9)}`,name:t,flashcards:[]};E.push(n),ie(),g("home")}else alert("Bitte gib einen Namen für das Kartenset ein.")});function Ge(){if(!c){g("home");return}Ke.textContent=`Set bearbeiten: ${c.name}`,G.value=c.name,b.value="",D.value="",se(),b.focus()}function se(){if(R.innerHTML="",!c||c.flashcards.length===0){le.style.display="block",R.style.display="none";return}le.style.display="none",R.style.display="block",c.flashcards.forEach((e,t)=>{const n=document.createElement("li");n.textContent=`${t+1}. ${e.term}: ${e.definition.substring(0,30)}${e.definition.length>30?"...":""}`;const i=document.createElement("button");i.textContent="Entfernen",i.classList.add("button-link-danger"),i.addEventListener("click",()=>{c&&(c.flashcards.splice(t,1),se())}),n.appendChild(i),R.appendChild(n)})}te.addEventListener("click",()=>{if(!c)return;const e=b.value.trim(),t=D.value.trim();if(e&&t){const n={id:`card-${Date.now()}-${Math.random().toString(36).substring(2,9)}`,term:e,definition:t};c.flashcards.push(n),b.value="",D.value="",b.focus(),se()}else alert("Bitte Begriff und Definition für die neue Karte eingeben.")});Oe.addEventListener("submit",e=>{if(e.preventDefault(),!c)return;const t=G.value.trim();if(!t){alert("Der Name des Kartensets darf nicht leer sein.");return}c.name=t;const n=E.findIndex(i=>i.id===c.id);n>-1?E[n]={...c}:E.push({...c}),ie(),g("home")});function _e(e){for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}return e}function Z(e){const t=document.createElement("div");t.classList.add("flashcard"),t.setAttribute("role","button"),t.setAttribute("tabindex","0"),t.setAttribute("aria-label",`Lernkarte: ${e.term}. Zum Umdrehen klicken oder Enter drücken.`),t.dataset.id=e.id;const n=document.createElement("div");n.classList.add("flashcard-inner");const i=document.createElement("div");i.classList.add("flashcard-front");const s=document.createElement("div");s.classList.add("term"),s.textContent=e.term,i.appendChild(s);const a=document.createElement("div");a.classList.add("flashcard-back");const o=document.createElement("div");o.classList.add("definition"),o.textContent=e.definition,a.appendChild(o),n.appendChild(i),n.appendChild(a),t.appendChild(n);const u=()=>{if(J)return;t.classList.toggle("flipped");const m=t.classList.contains("flipped");t.setAttribute("aria-label",`Lernkarte: ${e.term}. ${m?"Definition angezeigt":"Begriff angezeigt"}. Zum Umdrehen klicken oder Enter drücken.`)};return t.addEventListener("click",u),t.addEventListener("keydown",m=>{(m.key==="Enter"||m.key===" ")&&(u(),m.preventDefault())}),t.addEventListener("touchstart",We,{passive:!0}),t.addEventListener("touchmove",Ze,{passive:!1}),t.addEventListener("touchend",je,{passive:!0}),t}function Je(){O.style.display="inline-flex",A.style.display="inline-flex"}function me(){O.style.display="none",A.style.display="none"}function $e(){if(w.textContent="",r=null,f.length===0){L>0?(w.innerHTML='<p class="completion-message">Alle Karten gelernt! Gut gemacht!</p>',j(),Qe(),me()):(w.innerHTML='<p class="completion-message">Dieses Set enthält keine Karten. Füge welche im Bearbeiten-Modus hinzu.</p>',j(),me(),fe());return}const e=f[0];if(r=Z(e),w.appendChild(r),f.length>1){const t=f[1],n=Z(t);n.classList.add("stacked-card","stacked-card-1"),w.insertBefore(n,r)}if(f.length>2){const t=f[2],n=Z(t);n.classList.add("stacked-card","stacked-card-2"),w.insertBefore(n,r)}j(),fe(),Je()}function j(){if(z)if(f.length===0&&L>0)z.textContent=`Geschafft: ${L} / ${L}`;else if(L===0)z.textContent="0 / 0 Karten";else{const e=L-f.length;z.textContent=`Fortschritt: ${e} / ${L}`}}function T(e){if(!r||r.classList.contains("swipe-left")||r.classList.contains("swipe-right"))return;const t=f.shift();t&&(r.classList.add(e==="left"?"swipe-left":"swipe-right"),setTimeout(()=>{if(e==="left"){const n=Math.min(f.length,Math.floor(f.length*.75)+Math.floor(Math.random()*(f.length*.25+1)));f.splice(n,0,t)}$e()},300))}function We(e){!r||e.touches.length>1||(N=e.touches[0].clientX,Le=e.touches[0].clientY,J=!1,r.classList.remove("swipe-transition-reset"))}function Ze(e){if(!r||!N||e.touches.length>1)return;const n=e.touches[0].clientX-N;Math.abs(n)>Math.abs(e.touches[0].clientY-Le)&&Math.abs(n)>10&&e.cancelable&&e.preventDefault(),J=!0,r.style.transform=`translateX(${n}px) rotate(${n/20}deg)`}function je(e){if(!r||!N||e.changedTouches.length>1&&e.touches.length>0)return;ue=e.changedTouches[0].clientX;const t=ue-N;r.style.transform="",r.classList.add("swipe-transition-reset"),Math.abs(t)>Ye?t<0?T("left"):T("right"):setTimeout(()=>{J=!1},50),N=0}function be(e){f=_e([...e]),L=f.length,$e()}function Qe(){let e=X.querySelector(".restart-button");e||(e=document.createElement("button"),e.textContent="Neustart (Dieses Set)",e.classList.add("restart-button","button-secondary"),e.addEventListener("click",()=>{k&&be(k.flashcards)}),O&&A?X.insertBefore(e,A):X.appendChild(e)),e.style.display="inline-flex"}function fe(){const e=X.querySelector(".restart-button");e&&(e.style.display="none")}function et(e){setTimeout(()=>{e.scrollIntoView({behavior:"smooth",block:"nearest"})},250)}document.addEventListener("DOMContentLoaded",()=>{qe(),g("home"),Ae.addEventListener("click",()=>g("createSet")),He.addEventListener("click",()=>g("home")),Pe.addEventListener("click",()=>g("home")),ze.addEventListener("click",()=>{g("home")}),O.addEventListener("click",()=>{C==="learn"&&r&&T("left")}),A.addEventListener("click",()=>{C==="learn"&&r&&T("right")}),[K,G,b,D].forEach(t=>{t.addEventListener("focus",()=>et(t))}),document.addEventListener("keydown",t=>{var i,s,a;if(C!=="learn"||!r)if(C==="editSet"||C==="createSet"){if(((i=t.target)==null?void 0:i.nodeName)==="INPUT"||((s=t.target)==null?void 0:s.nodeName)==="TEXTAREA"){t.key==="Enter"&&!t.shiftKey&&(C==="editSet"&&document.activeElement===D||C==="editSet"&&(document.activeElement===b||document.activeElement===D)?(te.click(),t.preventDefault()):C==="createSet"&&document.activeElement===K?(Xe.click(),t.preventDefault()):C==="editSet"&&document.activeElement===G&&(Ue.click(),t.preventDefault()));return}}else return;const n=(a=t.target)==null?void 0:a.nodeName;n==="BUTTON"&&(t.key==="Enter"||t.key===" ")&&(t.target===O||t.target===A||t.target===X.querySelector(".restart-button"))||n==="INPUT"||n==="TEXTAREA"||(t.key==="a"||t.key==="A"?(T("left"),t.preventDefault()):(t.key==="d"||t.key==="D")&&(T("right"),t.preventDefault()))})});/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
*/let S="home",y=[],$=null,l=null;const tt=document.getElementById("homeView"),nt=document.getElementById("createSetView"),it=document.getElementById("editSetView"),st=document.getElementById("learnView"),at=document.getElementById("showCreateSetViewButton"),he=document.getElementById("cardSetListContainer"),ge=document.getElementById("cardSetList"),pe=document.getElementById("noSetsMessage"),ot=document.getElementById("createSetForm"),U=document.getElementById("newCardSetName"),rt=document.getElementById("saveNewSetButton"),dt=document.getElementById("backToHomeFromCreateButton"),ct=document.getElementById("editSetViewTitle"),lt=document.getElementById("editSetForm"),_=document.getElementById("editingCardSetName"),I=document.getElementById("editingCardTerm"),M=document.getElementById("editingCardDefinition"),ne=document.getElementById("addCardToEditingSetButton"),Y=document.getElementById("editingCardsListUl"),Ee=document.getElementById("noCardsInSetMessage"),ut=document.getElementById("saveSetChangesButton"),mt=document.getElementById("backToHomeFromEditButton"),ft=document.getElementById("learnViewTitle"),v=document.getElementById("flashcardsContainer"),q=document.getElementById("cardCounter"),H=document.getElementById("controlsContainer"),P=document.getElementById("swipeLeftButton"),F=document.getElementById("swipeRightButton"),ht=document.getElementById("backToHomeFromLearnButton");let h=[],B=0,V=0,Ie=0,ye=0,d=null,W=!1;const gt=50,we="flashcardApp_cardSets_v2";function ae(){localStorage.setItem(we,JSON.stringify(y))}function pt(){const e=localStorage.getItem(we);e?y=JSON.parse(e):y=[]}function p(e){S=e,tt.style.display=e==="home"?"flex":"none",nt.style.display=e==="createSet"?"flex":"none",it.style.display=e==="editSet"?"flex":"none",st.style.display=e==="learn"?"flex":"none",e==="home"?(ve(),l=null,$=null):e==="createSet"?(U.value="",U.focus()):e==="editSet"&&l?Et():e==="learn"&&$&&(ft.textContent=`Lernen: ${$.name}`,xe($.flashcards))}function ve(){ge.innerHTML="",y.length===0?(pe.style.display="block",he.classList.add("empty")):(pe.style.display="none",he.classList.remove("empty"),y.forEach(e=>{const t=document.createElement("li");t.classList.add("card-set-item");const n=document.createElement("span");n.textContent=`${e.name} (${e.flashcards.length} Karten)`,t.appendChild(n);const i=document.createElement("div");i.classList.add("card-set-actions");const s=document.createElement("button");s.textContent="Lernen",s.classList.add("button-primary"),s.addEventListener("click",u=>{u.stopPropagation(),$=e,p("learn")}),i.appendChild(s);const a=document.createElement("button");a.textContent="Bearbeiten",a.classList.add("button-secondary"),a.addEventListener("click",u=>{u.stopPropagation(),l=e,p("editSet")}),i.appendChild(a);const o=document.createElement("button");o.textContent="Löschen",o.classList.add("button-danger"),o.addEventListener("click",u=>{u.stopPropagation(),confirm(`Möchtest du das Set "${e.name}" wirklich löschen? Dies kann nicht rückgängig gemacht werden.`)&&(y=y.filter(m=>m.id!==e.id),ae(),ve())}),i.appendChild(o),t.appendChild(i),t.addEventListener("click",()=>{$=e,p("learn")}),ge.appendChild(t)}))}ot.addEventListener("submit",e=>{e.preventDefault();const t=U.value.trim();if(t){const n={id:`set-${Date.now()}-${Math.random().toString(36).substring(2,9)}`,name:t,flashcards:[]};y.push(n),ae(),p("home")}else alert("Bitte gib einen Namen für das Kartenset ein.")});function Et(){if(!l){p("home");return}ct.textContent=`Set bearbeiten: ${l.name}`,_.value=l.name,I.value="",M.value="",oe(),I.focus()}function oe(){if(Y.innerHTML="",!l||l.flashcards.length===0){Ee.style.display="block",Y.style.display="none";return}Ee.style.display="none",Y.style.display="block",l.flashcards.forEach((e,t)=>{const n=document.createElement("li");n.textContent=`${t+1}. ${e.term}: ${e.definition.substring(0,30)}${e.definition.length>30?"...":""}`;const i=document.createElement("button");i.textContent="Entfernen",i.classList.add("button-link-danger"),i.addEventListener("click",()=>{l&&(l.flashcards.splice(t,1),oe())}),n.appendChild(i),Y.appendChild(n)})}ne.addEventListener("click",()=>{if(!l)return;const e=I.value.trim(),t=M.value.trim();if(e&&t){const n={id:`card-${Date.now()}-${Math.random().toString(36).substring(2,9)}`,term:e,definition:t};l.flashcards.push(n),I.value="",M.value="",I.focus(),oe()}else alert("Bitte Begriff und Definition für die neue Karte eingeben.")});lt.addEventListener("submit",e=>{if(e.preventDefault(),!l)return;const t=_.value.trim();if(!t){alert("Der Name des Kartensets darf nicht leer sein.");return}l.name=t;const n=y.findIndex(i=>i.id===l.id);n>-1?y[n]={...l}:y.push({...l}),ae(),p("home")});function yt(e){for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}return e}function Q(e){const t=document.createElement("div");t.classList.add("flashcard"),t.setAttribute("role","button"),t.setAttribute("tabindex","0"),t.setAttribute("aria-label",`Lernkarte: ${e.term}. Zum Umdrehen klicken oder Enter drücken.`),t.dataset.id=e.id;const n=document.createElement("div");n.classList.add("flashcard-inner");const i=document.createElement("div");i.classList.add("flashcard-front");const s=document.createElement("div");s.classList.add("term"),s.textContent=e.term,i.appendChild(s);const a=document.createElement("div");a.classList.add("flashcard-back");const o=document.createElement("div");o.classList.add("definition"),o.textContent=e.definition,a.appendChild(o),n.appendChild(i),n.appendChild(a),t.appendChild(n);const u=()=>{if(W)return;t.classList.toggle("flipped");const m=t.classList.contains("flipped");t.setAttribute("aria-label",`Lernkarte: ${e.term}. ${m?"Definition angezeigt":"Begriff angezeigt"}. Zum Umdrehen klicken oder Enter drücken.`)};return t.addEventListener("click",u),t.addEventListener("keydown",m=>{(m.key==="Enter"||m.key===" ")&&(u(),m.preventDefault())}),t.addEventListener("touchstart",St,{passive:!0}),t.addEventListener("touchmove",Lt,{passive:!1}),t.addEventListener("touchend",Bt,{passive:!0}),t}function Ct(){P.style.display="inline-flex",F.style.display="inline-flex"}function Ce(){P.style.display="none",F.style.display="none"}function Te(){if(v.textContent="",d=null,h.length===0){B>0?(v.innerHTML='<p class="completion-message">Alle Karten gelernt! Gut gemacht!</p>',ee(),kt(),Ce()):(v.innerHTML='<p class="completion-message">Dieses Set enthält keine Karten. Füge welche im Bearbeiten-Modus hinzu.</p>',ee(),Ce(),Se());return}const e=h[0];if(d=Q(e),v.appendChild(d),h.length>1){const t=h[1],n=Q(t);n.classList.add("stacked-card","stacked-card-1"),v.insertBefore(n,d)}if(h.length>2){const t=h[2],n=Q(t);n.classList.add("stacked-card","stacked-card-2"),v.insertBefore(n,d)}ee(),Se(),Ct()}function ee(){if(q)if(h.length===0&&B>0)q.textContent=`Geschafft: ${B} / ${B}`;else if(B===0)q.textContent="0 / 0 Karten";else{const e=B-h.length;q.textContent=`Fortschritt: ${e} / ${B}`}}function x(e){if(!d||d.classList.contains("swipe-left")||d.classList.contains("swipe-right"))return;const t=h.shift();t&&(d.classList.add(e==="left"?"swipe-left":"swipe-right"),setTimeout(()=>{if(e==="left"){const n=Math.min(h.length,Math.floor(h.length*.75)+Math.floor(Math.random()*(h.length*.25+1)));h.splice(n,0,t)}Te()},300))}function St(e){!d||e.touches.length>1||(V=e.touches[0].clientX,Ie=e.touches[0].clientY,W=!1,d.classList.remove("swipe-transition-reset"))}function Lt(e){if(!d||!V||e.touches.length>1)return;const n=e.touches[0].clientX-V;Math.abs(n)>Math.abs(e.touches[0].clientY-Ie)&&Math.abs(n)>10&&e.cancelable&&e.preventDefault(),W=!0,d.style.transform=`translateX(${n}px) rotate(${n/20}deg)`}function Bt(e){if(!d||!V||e.changedTouches.length>1&&e.touches.length>0)return;ye=e.changedTouches[0].clientX;const t=ye-V;d.style.transform="",d.classList.add("swipe-transition-reset"),Math.abs(t)>gt?t<0?x("left"):x("right"):setTimeout(()=>{W=!1},50),V=0}function xe(e){h=yt([...e]),B=h.length,Te()}function kt(){let e=H.querySelector(".restart-button");e||(e=document.createElement("button"),e.textContent="Neustart (Dieses Set)",e.classList.add("restart-button","button-secondary"),e.addEventListener("click",()=>{$&&xe($.flashcards)}),P&&F?H.insertBefore(e,F):H.appendChild(e)),e.style.display="inline-flex"}function Se(){const e=H.querySelector(".restart-button");e&&(e.style.display="none")}function $t(e){setTimeout(()=>{e.scrollIntoView({behavior:"smooth",block:"nearest"})},250)}document.addEventListener("DOMContentLoaded",()=>{pt(),p("home"),at.addEventListener("click",()=>p("createSet")),dt.addEventListener("click",()=>p("home")),mt.addEventListener("click",()=>p("home")),ht.addEventListener("click",()=>{p("home")}),P.addEventListener("click",()=>{S==="learn"&&d&&x("left")}),F.addEventListener("click",()=>{S==="learn"&&d&&x("right")}),[U,_,I,M].forEach(t=>{t.addEventListener("focus",()=>$t(t))}),document.addEventListener("keydown",t=>{var i,s,a;if(S!=="learn"||!d)if(S==="editSet"||S==="createSet"){if(((i=t.target)==null?void 0:i.nodeName)==="INPUT"||((s=t.target)==null?void 0:s.nodeName)==="TEXTAREA"){t.key==="Enter"&&!t.shiftKey&&(S==="editSet"&&document.activeElement===M||S==="editSet"&&(document.activeElement===I||document.activeElement===M)?(ne.click(),t.preventDefault()):S==="createSet"&&document.activeElement===U?(rt.click(),t.preventDefault()):S==="editSet"&&document.activeElement===_&&(ut.click(),t.preventDefault()));return}}else return;const n=(a=t.target)==null?void 0:a.nodeName;n==="BUTTON"&&(t.key==="Enter"||t.key===" ")&&(t.target===P||t.target===F||t.target===H.querySelector(".restart-button"))||n==="INPUT"||n==="TEXTAREA"||(t.key==="a"||t.key==="A"?(x("left"),t.preventDefault()):(t.key==="d"||t.key==="D")&&(x("right"),t.preventDefault()))}),"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(t=>{console.log("ServiceWorker registration successful with scope: ",t.scope)}).catch(t=>{console.log("ServiceWorker registration failed: ",t)})})});
